<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title></title>
  <link rel="stylesheet" href="static/css/rfc.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1></h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-'>
      <td class=docs>
        <p class="rfcparagraph"><p>Network Working Group                                            E. Chen<br>Request for Comments: 2918                              Redback Networks<br>Category: Standards Track                                 September 2000<br><br></p>
                  <h1>
                   Route Refresh Capability for BGP-4</h1>
                  <h2>Status of this Memo</h2>

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

</p><p class="rfcparagraph"><h2>Copyright Notice</h2>

   Copyright (C) The Internet Society (2000).  All Rights Reserved.<br>

</p><p class="rfcparagraph"><h2>Abstract</h2>

   This document defines a new Border Gateway Protocol (BGP) capability
   termed 'Route Refresh Capability', which would allow the dynamic
   exchange of route refresh request between BGP speakers and subsequent
   re-advertisement of the respective Adj-RIB-Out.  One possible
   application of this capability is to facilitate non-disruptive
   routing policy changes.

</p><p class="rfcparagraph">	<a name="section-1"><h2>1.  Introduction</h2></a>

   Currently there does not exist a mechanism in BGP-4 [BGP-4] to
   dynamically request a re-advertisement of the Adj-RIB-Out from a BGP
   peer.  When the inbound routing policy for a peer changes, all
   prefixes from that peer must be somehow made available and then re-
   examined against the new policy. To accomplish this, a commonly used
   approach, known as 'soft-reconfiguration', is to store an unmodified
   copy of all routes from that peer at all times, even though routing
   policies do not change frequently (typically no more than a couple
   times a day). Additional memory and CPU are required to maintain
   these routes.

</p><p class="rfcparagraph">   This document proposes an alternative solution that avoids the
   additional maintenance cost. More specifically, it defines a new BGP
   capability termed 'Route Refresh Capability', which would allow the
   dynamic exchange of route refresh request between BGP speakers and
   subsequent re-advertisement of the respective Adj-RIB-Out.
	<a name="section-2"><h2>2.  Route Refresh Capability</h2></a>

   To advertise the Route Refresh Capability to a peer, a BGP speaker
   uses BGP Capabilities Advertisement [BGP-CAP]. This capability is
   advertised using the Capability code 2 and Capability length 0.

</p><p class="rfcparagraph">   By advertising the Route Refresh Capability to a peer, a BGP speaker
   conveys to the peer that the speaker is capable of receiving and
   properly handling the ROUTE-REFRESH message (as defined in Section 3)
   from the peer.

</p><p class="rfcparagraph">	<a name="section-3"><h2>3.  Route-REFRESH Message</h2></a>

   The ROUTE-REFRESH message is a new BGP message type defined as
   follows:

</p><p class="rfcparagraph">          Type: 5 - ROUTE-REFRESH

          Message Format: One <AFI, SAFI> encoded as

                  0       7      15      23      31<pre>
                  +-------+-------+-------+-------+
                  |      AFI      | Res.  | SAFI  |
                  +-------+-------+-------+-------+
</pre>


          The meaning, use and encoding of this <AFI, SAFI> field is the
          same as defined in [BGP-MP, sect. 7]. More specifically,

               AFI  - Address Family Identifier (16 bit).

</p><p class="rfcparagraph">               Res. - Reserved (8 bit) field. Should be set to 0 by the
                      sender and ignored by the receiver.

</p><p class="rfcparagraph">               SAFI - Subsequent Address Family Identifier (8 bit).

</p><p class="rfcparagraph">	<a name="section-4"><h2>4.  Operation</h2></a>

   A BGP speaker that is willing to receive the ROUTE-REFRESH message
   from its peer should advertise the Route Refresh Capability to the
   peer using BGP Capabilities advertisement [BGP-CAP].

</p><p class="rfcparagraph">   A BGP speaker may send a ROUTE-REFRESH message to its peer only if it
   has received the Route Refresh Capability from its peer.  The <AFI,
   SAFI> carried in such a message should be one of the <AFI, SAFI> that
   the peer has advertised to the speaker at the session establishment
   time via capability advertisement.
   If a BGP speaker receives from its peer a ROUTE-REFRESH message with
   the <AFI, SAFI> that the speaker didn't advertise to the peer at the
   session establishment time via capability advertisement, the speaker
   shall ignore such a message.  Otherwise, the BGP speaker shall re-
   advertise to that peer the Adj-RIB-Out of the <AFI, SAFI> carried in
   the message, based on its outbound route filtering policy.

</p><p class="rfcparagraph">	<a name="section-5"><h2>5.  Security Considerations</h2></a>

   This extension to BGP does not change the underlying security issues.

</p><p class="rfcparagraph">	<a name="section-6"><h2>6.  Acknowledgments</h2></a>

   The concept of Route Refresh proposed is similar to the one used in
   IDRP.

</p><p class="rfcparagraph">   The author would like to thank Yakov Rekhter, Ravi Chandra, Srihari
   Ramachandra and Bruce Cole for their review and comments.

</p><p class="rfcparagraph">	<a name="section-7"><h2>7.  References</h2></a>

   [BGP-4]   Rekhter, Y. and T. Li, "A Border Gateway Protocol 4 (BGP-
             4)", RFC 1771, March 1995.

</p><p class="rfcparagraph">   [BGP-MP]  Bates, T., Chandra, R., Katz, D. and Y. Rekhter,
             "Multiprotocol Extensions for BGP-4", RFC 2858, June 2000.

</p><p class="rfcparagraph">   [BGP-CAP] Chandra, R. and J. Scudder, "Capabilities Advertisement
             with BGP-4", RFC 2842, May 2000.

</p><p class="rfcparagraph">	<a name="section-8"><h2>8.  Author's Address</h2></a>

   Enke Chen
   Redback Networks Inc.
   350 Holger Way
   San Jose, CA 95134

   EMail: enke@redback.com
	<a name="section-9"><h2>9.   Full Copyright Statement</h2></a>

   Copyright (C) The Internet Society (2000).  All Rights Reserved.<br>

</p><p class="rfcparagraph">   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

</p><p class="rfcparagraph">   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

</p><p class="rfcparagraph">   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

</p><p class="rfcparagraph">Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.

</p>

















Chen                        Standards Track                     [Page 4]


      </td>
      <td class=code>
        <div class='highlight'>
            <!--
            <b>Related Stack Overflow questions:</b>
            <ul>
                
            </ul>
            -->
        </div>
      </td>
    </tr>
  </table>
</div>
</body>