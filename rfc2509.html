<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title></title>
  <link rel="stylesheet" href="static/css/rfc.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1></h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-'>
      <td class=docs>
        <p class="rfcparagraph"><p>Network Working Group<br>Request for Comments: 2509                                      M. Engan<br>Category: Standards Track                                         Effnet<br>                                                               S. Casner<br>                                                           Cisco Systems<br>                                                              C. Bormann<br>                                                 Universitaet Bremen TZI<br>                                                           February 1999<br><br></p>
                  <h1>
                     IP Header Compression over PPP</h1>
                  <h2>Status of this Memo</h2>

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

</p><p class="rfcparagraph"><h2>Copyright Notice</h2>

   Copyright (C) The Internet Society (1999).  All Rights Reserved.<br>

</p><p class="rfcparagraph"><h2>Abstract</h2>

   This document describes an option for negotiating the use of header
   compression on IP datagrams transmitted over the Point-to-Point
   Protocol [RFC1661]. It defines extensions to the PPP Control
   Protocols for IPv4 and IPv6 [RFC1332, RFC2023]. Header compression
   may be applied to IPv4 and IPv6 datagrams in combination with TCP,
   UDP and RTP transport protocols as specified in [IPHC] and [CRTP].

</p><p class="rfcparagraph">	<a name="section-1"><h2>1.  Introduction</h2></a>

   The IP Header Compression (IPHC) defined in [IPHC] may be used for
   compression of both IPv4 and IPv6 datagrams or packets encapsulated
   with multiple IP headers. IPHC is also capable of compressing both
   TCP and UDP transport protocol headers.  The IP/UDP/RTP header
   compression defined in [CRTP] fits within the framework defined by
   IPHC so that it may also be applied to both IPv4 and IPv6 packets.

</p><p class="rfcparagraph">   In order to establish compression of IP datagrams sent over a PPP
   link each end of the link must agree on a set of configuration
   parameters for the compression. The process of negotiating link
   parameters for network layer protocols is handled in PPP by a family
   of network control protocols (NCPs).  Since there are separate NCPs
   for IPv4 and IPv6, this document defines configuration options to be
   used in both NCPs to negotiate parameters for the compression scheme.

</p><p class="rfcparagraph">   IPHC relies on the link layer's ability to indicate the types of
   datagrams carried in the link layer frames. In this document nine new
   types for the PPP Data Link Layer Protocol Field are defined along
   with their meaning.

</p><p class="rfcparagraph">   In general, header compression schemes that use delta encoding of
   compressed packets require that the lower layer does not reorder
   packets between compressor and decompressor. IPHC uses delta encoding
   of compressed packets for TCP and RTP.  The IPHC specification [IPHC]
   includes methods that allow link layers that may reorder packets to
   be used with IPHC.  Since PPP does not reorder packets these
   mechanisms are disabled by default.  When using reordering mechanisms
   such as multiclass multilink PPP [MCML], care must be taken so that
   packets that share the same compression context are not reordered.

</p><p class="rfcparagraph">	<a name="section-2"><h2>2.  Configuration Option</h2></a>

   This document specifies a new compression protocol value for the IPCP
   IP-Compression-Protocol option as specified in [RFC1332].  The new
   value and the associated option format are described in section 2.1.

</p><p class="rfcparagraph">   The option format is structured to allow future extensions to the
   IPHC scheme.

</p><p class="rfcparagraph">      NOTE: The specification of link and network layer parameter
      negotiation for PPP [RFC1661], [RFC1331], [RFC1332] does not
      prohibit multiple instances of one configuration option but states
      that the specification of a configuration option must explicitly
      allow multiple instances.  From the current specification of the
      IPCP IP-Compression-Protocol configuration option [RFC1332, p 6]
      it follows that it can only be used to select a single compression
      protocol at any time.

</p><p class="rfcparagraph">      NOTE: [RFC1332] is not explicit about whether the option
      negotiates the capabilities of the receiver or of the sender.  In
      keeping with current practice, we assume that the option describes
      the capabilities of the decompressor (receiving side) of the peer
      that sends the Config-Req.
	<a name="section-2.1"><h3>2.1  Configuration Option Format</h3></a>

   Both the network control protocol for IPv4, IPCP [RFC1332] and the
   IPv6 NCP, IPV6CP [RFC2023] may be used to negotiate IP Header
   Compression parameters for their respective protocols.  The format of
   the configuration option is the same for both IPCP and IPV6CP.

</p><p class="rfcparagraph">   Description

      This NCP configuration option is used to negotiate parameters for
      IP Header Compression.  The option format is summarized below.
      The fields are transmitted from left to right.

</p><p class="rfcparagraph">       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |     Type      |    Length     |    IP-Compression-Protocol    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           TCP_SPACE           |         NON_TCP_SPACE         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |         F_MAX_PERIOD          |          F_MAX_TIME           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           MAX_HEADER          |          suboptions...
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Type
      2

   Length
      >= 14

      The length may be increased if the presence of additional
      parameters is indicated by additional suboptions.

</p><p class="rfcparagraph">   IP-Compression-Protocol
      0061 (hex)

   TCP_SPACE
      The TCP_SPACE field is two octets and indicates the maximum value
      of a context identifier in the space of context identifiers
      allocated for TCP.

</p><p class="rfcparagraph">         Suggested value: 15

      TCP_SPACE must be at least 0 and at most 255 (The value 0 implies
      having one context).
   NON_TCP_SPACE
      The NON_TCP_SPACE field is two octets and indicates the maximum
      value of a context identifier in the space of context identifiers
      allocated for non-TCP. These context identifiers are carried in
      COMPRESSED_NON_TCP, COMPRESSED_UDP and COMPRESSED_RTP packet
      headers.

</p><p class="rfcparagraph">         Suggested value: 15

      NON_TCP_SPACE must be at least 0 and at most 65535 (The value 0
      implies having one context).

</p><p class="rfcparagraph">   F_MAX_PERIOD
      Maximum interval between full headers.  No more than F_MAX_PERIOD
      COMPRESSED_NON_TCP headers may be sent between FULL_HEADER
      headers.

</p><p class="rfcparagraph">         Suggested value: 256

      A value of zero implies infinity, i.e. there is no limit to the
      number of consecutive COMPRESSED_NON_TCP headers.

</p><p class="rfcparagraph">   F_MAX_TIME
      Maximum time interval between full headers.  COMPRESSED_NON_TCP
      headers may not be sent more than F_MAX_TIME seconds after sending
      the last FULL_HEADER header.

</p><p class="rfcparagraph">         Suggested value: 5 seconds

      A value of zero implies infinity.

</p><p class="rfcparagraph">   MAX_HEADER
      The largest header size in octets that may be compressed.

</p><p class="rfcparagraph">         Suggested value: 168 octets

      The value of MAX_HEADER should be large enough so that at least
      the outer network layer header can be compressed.  To increase
      compression efficiency MAX_HEADER should be set to a value large
      enough to cover common combinations of network and transport layer
      headers.

</p><p class="rfcparagraph">   suboptions
      The suboptions field consists of zero or more suboptions.  Each
      suboption consists of a type field, a length field and zero or
      more parameter octets, as defined by the suboption type.  The
      value of the length field indicates the length of the suboption in
      its entirety, including the lengths of the type and length fields.
             0                   1                   2
             0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
            |     Type      |    Length     |  Parameters...
            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

	<a name="section-2.2"><h3>2.2  RTP-Compression Suboption</h3></a>

   The RTP-Compression suboption is included in the NCP
   IP-Compression-Protocol option for IPHC if IP/UDP/RTP compression is
   to be enabled.

</p><p class="rfcparagraph">   After successful negotiation of parameters for IP Header Compression
   the use of Protocol Identifiers FULL_HEADER, COMPRESSED_TCP,
   COMPRESSED_TCP_NODELTA and COMPRESSED_NON_TCP is enabled, regardless
   of the prescence of an RTP-Compression suboption.

</p><p class="rfcparagraph">   Description

      Enable use of Protocol Identifiers COMPRESSED_RTP, COMPRESSED_UDP and
      CONTEXT_STATE as specified in [CRTP].

</p><p class="rfcparagraph">
             0                   1
             0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
            |     Type      |    Length     |
            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Type
            1

         Length
            2

	<a name="section-3"><h2>3.  Multiple Network Control Protocols</h2></a>

   The IPHC protocol is able to compress both IPv6 and IPv4 datagrams.
   Both IPCP and IPV6CP are able to negotiate option parameter values
   for IPHC.  These values apply to the compression of packets where the
   outer header is an IPv4 header and an IPv6 header, respectively.

</p><p class="rfcparagraph">	<a name="section-3.1"><h3>3.1  Sharing Context Identifier Space</h3></a>

   For the compression and decompression of IPv4 and IPv6 datagram
   headers the context identifier space is shared.  While the parameter
   values are independently negotiated, sharing the context identifier
   spaces becomes more complex when the parameter values differ.  Since
   the compressed packets share context identifier space, the
   compression engine must allocate context identifiers out of a common
   pool; for compressed packets, the decompressor has to examine the
   context state to determine what parameters to use for decompression.

</p><p class="rfcparagraph">   Context identifier spaces are not shared between TCP and non-
   TCP/UDP/RTP.  Doing so would require additional mechanisms to ensure
   that no error can occur when switching from using a context
   identifier for TCP to non-TCP.

</p><p class="rfcparagraph">	<a name="section-4"><h2>4.  Demultiplexing of Datagrams</h2></a>

   The IPHC specification [IPHC] defines four header formats for
   different types of compressed headers.  They are compressed TCP,
   compressed TCP with no delta encoding, compressed non-TCP with 8 bit
   CID and compressed non-TCP with 16 bit CID. The two non-TCP formats
   may be distinguished by their contents so both may use the same
   link-level identifier.  A fifth header format, the full header is
   distinct from a regular header in that it carries additional
   information to establish shared context between the compressor and
   decompressor.

</p><p class="rfcparagraph">   The specification of IP/UDP/RTP Header Compression [CRTP] defines
   four additional formats of compressed headers.  They are for
   compressed UDP and compressed RTP (on top of UDP), both with either
   8- or 16-bit CIDs.  In addition, there is an explicit error message
   from the decompressor to the compressor.

</p><p class="rfcparagraph">   The link layer must be able to indicate these header formats with
   distinct values.  Nine PPP Data Link Layer Protocol Field values are
   specified below.

</p><p class="rfcparagraph">      FULL_HEADER
         The frame contains a full header as specified in [CRTP] Section
         3.3.1.  This is the same as the FULL_HEADER specified in [IPHC]
         Section 5.3.
            Value: 0061 (hex)

      COMPRESSED_TCP
         The frame contains a datagram with a compressed header with the
         format as specified in [IPHC] Section 6a.
            Value: 0063 (hex)

      COMPRESSED_TCP_NODELTA
         The frame contains a datagram with a compressed header with the
         format as specified in [IPHC] Section 6b.
            Value: 2063 (hex)
      COMPRESSED_NON_TCP
         The frame contains a datagram with a compressed header with the
         format as specified in either Section 6c or Section 6d of
         [IPHC].
            Value: 0065 (hex)

      COMPRESSED_RTP_8
         The frame contains a datagram with a compressed header with the
         format as specified in [CRTP] Section 3.3.2, using 8-bit CIDs.
            Value: 0069 (hex)

      COMPRESSED_RTP_16
         The frame contains a datagram with a compressed header with the
         format as specified in [CRTP] Section 3.3.2, using 16-bit CIDs.
            Value: 2069 (hex)

      COMPRESSED_UDP_8
         The frame contains a datagram with a compressed header with the
         format as specified in [CRTP] Section 3.3.3, using 8-bit CIDs.
            Value: 0067 (hex)

      COMPRESSED_UDP_16
         The frame contains a datagram with a compressed header with the
         format as specified in [CRTP] Section 3.3.3, using 16-bit CIDs.
            Value: 2067 (hex)

      CONTEXT_STATE
         The frame is a link-level message sent from the decompressor to
         the compressor as specified in [CRTP] Section 3.3.5.
            Value: 2065 (hex)

	<a name="section-5"><h2>5.  References</h2></a>

   [CRTP]     Casner, S. and V. Jacobson, "Compressing IP/UDP/RTP
              Headers for Low-Speed Serial Links", RFC 2508, February
              1999.

</p><p class="rfcparagraph">   [IPHC]     Degermark, M., Nordgren, B. and S. Pink, "Header
              Compression for IP", RFC 2507, February 1999.

</p><p class="rfcparagraph">   [RFC2023]  Haskin, E. and E. Allan, "IP Version 6 over PPP", RFC
              2023, October 1996.

</p><p class="rfcparagraph">   [RFC1144]  Jacobson, V., "Compressing TCP/IP Headers for Low- Speed
              Serial Links", RFC 1144, February 1990.

</p><p class="rfcparagraph">   [RFC1332]  McGregor, G., "The PPP Internet Protocol Control Protocol
              (IPCP)", RFC 1332, May 1992.
   [RFC1889]  Schulzrinne, H., Casner, S., Frederick, R. and V.
              Jacobson, "RTP: A Transport Protocol for real-time
              applications", RFC 1889, January 1996.

</p><p class="rfcparagraph">   [RFC1661]  Simpson, W., Ed., "The Point-To-Point Protocol (PPP)", STD
              51, RFC 1661, July 1994.

</p><p class="rfcparagraph">   [MCML]     Bormann, C., "The Multi-Class Extension to Multi-Link
              PPP", Work in Progress.

</p><p class="rfcparagraph">	<a name="section-6"><h2>6.  Security Considerations</h2></a>

   Negotiation of the option defined here imposes no additional security
   considerations beyond those that otherwise apply to PPP [RFC1661].

</p><p class="rfcparagraph">   The use of header compression can, in rare cases, cause the
   misdelivery of packets. If necessary, confidentiality of packet
   contents should be assured by encryption.

</p><p class="rfcparagraph">   Encryption applied at the IP layer (e.g., using IPSEC mechanisms)
   precludes header compression of the encrypted headers, though
   compression of the outer IP header and authentication/security
   headers is still possible as described in [IPHC].  For RTP packets,
   full header compression is possible if the RTP payload is encrypted
   by itself without encrypting the UDP or RTP headers, as described in
   [RFC1889].  This method is appropriate when the UDP and RTP header
   information need not be kept confidential.
	<a name="section-7"><h2>7.  Authors' Addresses</h2></a>

   Mathias Engan
   Effnet
   Aurorum 2
   SE-977 75 Lulea, Sweden

   Phone: +46 920 75600
   Mobile: +46 70 833 8932
   Fax: +46 920 75610
   EMail: engan@effnet.com


   Stephen L. Casner
   Cisco Systems, Inc.
   170 West Tasman Drive
   San Jose, CA 95134-1706
   United States

   EMail: casner@cisco.com


   Carsten Bormann
   Universitaet Bremen FB3 TZI
   Postfach 330440
   D-28334 Bremen, GERMANY

   Phone: +49.421.218-7024
   Fax: +49.421.218-7000
   EMail: cabo@tzi.org
	<a name="section-8"><h2>8.   Full Copyright Statement</h2></a>

   Copyright (C) The Internet Society (1999).  All Rights Reserved.<br>

</p><p class="rfcparagraph">   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

</p><p class="rfcparagraph">   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

</p><p class="rfcparagraph">   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

</p>






















Engan, et. al.              Standards Track                    [Page 10]


      </td>
      <td class=code>
        <div class='highlight'>
            <!--
            <b>Related Stack Overflow questions:</b>
            <ul>
                
            </ul>
            -->
        </div>
      </td>
    </tr>
  </table>
</div>
</body>