<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title></title>
  <link rel="stylesheet" href="static/css/rfc.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1></h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-'>
      <td class=docs>
        <p class="rfcparagraph"><p>Network Working Group                                            W. Zhao<br>Request for Comments: 3832                                H. Schulzrinne<br>Category: Experimental                               Columbia University<br>                                                              E. Guttman<br>                                                        Sun Microsystems<br>                                                            C. Bisdikian<br>                                                               W. Jerome<br>                                                                     IBM<br>                                                               July 2004<br><br></p>
                  <h1>
                    Remote Service Discovery in the
              Service Location Protocol (SLP) via DNS SRV</h1>
                  <h2>Status of this Memo</h2>

   This memo defines an Experimental Protocol for the Internet
   community.  It does not specify an Internet standard of any kind.
   Discussion and suggestions for improvement are requested.
   Distribution of this memo is unlimited.

</p><p class="rfcparagraph"><h2>Copyright Notice</h2>

   Copyright (C) The Internet Society (2004).<br>

</p><p class="rfcparagraph"><h2>Abstract</h2>

   Remote service discovery refers to discovering desired services in
   given remote (i.e., non-local) DNS domains.  This document describes
   remote service discovery in the Service Location Protocol (SLP) via
   DNS SRV.  It defines the DNS SRV Resource Records for SLP Directory
   Agent services, discusses various issues in using SLP and DNS SRV
   together for remote service discovery, and gives the steps for
   discovering desired services in remote DNS domains.

</p><p class="rfcparagraph">	<a name="section-1"><h2>1.   Introduction</h2></a>

   This document describes remote service discovery in the Service
   Location Protocol (SLP) [RFC2608] via DNS SRV [RFC2782].  We consider
   remote service discovery as discovering desired services in given
   remote DNS domains, and local service discovery as discovering
   desired services within the local administrative domain.

</p><p class="rfcparagraph">   SLP provides a scalable framework for local service discovery and
   selection.  In SLP, User Agents (UAs) discover desired services in
   the local administrative domain by querying all Service Agents (SAs)
   via multicast or querying a Directory Agent (DA) via unicast.  To
   query a DA using unicast, a UA needs to first learn about the DA via
   DHCP, static configuration or multicast (listening for DAAdvert
   multicast or issuing DA discovery SrvRqst multicast).

</p><p class="rfcparagraph">   DNS SRV provides good support for remote service discovery.  However,
   if multiple servers are discovered via DNS SRV for a service, only
   priority and weight can be used to make a selection.  If additional
   service properties (such as cost, speed and service quality) need to
   be considered in the selection process, DNS SRV becomes insufficient.

</p><p class="rfcparagraph">   We propose that using SLP and DNS SRV together can provide better
   support for remote service discovery.  First, a UA uses DNS SRV to
   find SLP DAs at a remote DNS domain.  Then, the UA uses SLP to query
   one of those DAs to discover desired services.  In this way, we can
   avoid the limitations in using SLP and DNS SRV separately.  On one
   hand, without DNS SRV, an SLP UA needs to depend on static
   configuration to learn about remote DAs because DHCP and multicast DA
   discovery are not generally applicable beyond the local
   administrative domain.  On the other hand, without SLP, DNS SRV has
   limited support for service selection.

</p><p class="rfcparagraph">   In this document, we first define the DNS SRV Resource Records (RRs)
   for SLP DA services, which are used to map a given DNS domain to
   remotely accessible (i.e., accessible from the Internet) DAs in that
   domain.  Then, we discuss various issues in using SLP and DNS SRV
   together for remote service discovery.  Finally, we give the steps
   for discovering services in remote DNS domains.

</p><p class="rfcparagraph">	<a name="section-1.1"><h3>1.1   Notation Conventions</h3></a>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in BCP 14, RFC 2119
   [RFC2119].

</p><p class="rfcparagraph">	<a name="section-2"><h2>2.   The DNS SRV RRs for SLP DA services</h2></a>

   According to RFC 2782 [RFC2782], the DNS SRV RRs for SLP DA services
   are defined as follows:

</p><p class="rfcparagraph">   _slpda._Proto.Name TTL Class SRV Priority Weight Port Target

   where "slpda" is the symbolic name for SLP DA services, the Proto
   field is either "tcp" or "udp", and the Target field is the domain
   name of an SLP DA.  Please refer to [RFC2782] for detailed
   explanation of each field in DNS SRV RRs.
   Next we show an example of using DNS SRV RRs to map a given DNS
   domain to remotely accessible DAs in that domain.  To discover
   remotely accessible DAs in a remote domain (say, example.com), a UA
   makes a DNS query [RFC1034,RFC1035] for QNAME=_slpda._tcp.example.com
   (or QNAME=_slpda._udp.example.com), QCLASS=IN, and QTYPE=SRV.  Then
   the UA will receive a list of DNS SRV RRs in a DNS reply, which gives
   all remotely accessible DAs in the domain example.com, such as:

</p><p class="rfcparagraph">   ;;                             Priority Weight Port Target
   _slpda._tcp.example.com IN SRV 0        0      427  da1.example.com
   _slpda._tcp.example.com IN SRV 0        0      427  da2.example.com

	<a name="section-3"><h2>3.   Remote Service Discovery in SLP via DNS SRV</h2></a>

   SLP DAs can be discovered in two ways: (1) using the mechanisms<br>
   described in RFC 2608, and (2) using DNS SRV RRs as described in this<br>
   document.  The second approach is useful for UAs to acquire service
   information for remote DNS domains.  For example, a mobile node
   visiting a network (without the use of mobile IP) may want to obtain
   information about services in its home network.

</p><p class="rfcparagraph">	<a name="section-3.1"><h3>3.1   The DNS Domain of Interest for Remote Service Discovery</h3></a>

   Using DNS SRV RRs to discover SLP DAs requires knowledge of the
   domain where SLP DAs are registered.  For remote service discovery,
   it is assumed that the DNS domain of interest is known via a priori
   knowledge.  For example, a UA is configured with a domain name or the
   user provides the domain name manually.

</p><p class="rfcparagraph">   Note that there is no implied "search order" of DNS domains in
   finding remote DAs.  For instance, if a UA is looking for remote DAs
   in the domain foo.bar.example.com, it SHOULD only look for
   _slp._tcp.foo.bar.example.com (or _slp._udp.foo.bar.example.com), and
   MUST NOT fall back to look for _slp._tcp.bar.example.com,
   _slp._tcp.example.com, and so on.

</p><p class="rfcparagraph">
	<a name="section-3.2"><h3>3.2   SLP DAs for Remote Service Discovery</h3></a>

   A UA discovers desired services in a given remote DNS domain by
   unicasting requests to DAs in that domain.  The UA uses remote DAs
   according to these prioritized rules: (1) using DAs which it has been<br>
   configured with, and (2) using DAs which it has discovered via DNS<br>
   SRV.
	<a name="section-3.3"><h3>3.3   SLP Scopes for Remote Service Discovery</h3></a>

   As SLP scopes are intended to be used only within one administrative
   domain, they are likely incomprehensible to users outside of the
   administrative domain.  Thus, any remotely accessible service MUST be
   registered in the "default" scope, but it MAY be registered in other
   scopes at the same time.  Similarly, all DAs advertised via DNS SRV
   MUST serve the "default" scope, but they MAY serve other scopes at
   the same time.  As a result, users wishing to discover services at a
   remote DNS domain SHOULD only search the "default" scope.

</p><p class="rfcparagraph">	<a name="section-4"><h2>4.   Steps for Remote Service Discovery</h2></a>

   The steps for a User Agent U to discover desired services in a remote
   DNS domain D are as follows.

</p><p class="rfcparagraph">   (1) U makes a DNS query for QNAME=_slpda._tcp.D (or<br>
       QNAME=_slpda._udp.D), QCLASS=IN, and QTYPE=SRV.  Then, U gets a
       list of DNS SRV RRs (referred to as L) in a DNS reply, which
       gives all remotely accessible DAs in D.

</p><p class="rfcparagraph">   (2) U selects a DA X from L based on the priority and weight<br>
       information per RFC 2782.

</p><p class="rfcparagraph">   (3) U queries X in the "default" scope to discover desired services<br>
       in D.

</p><p class="rfcparagraph">   Note that the services discovered in the above steps may not
   necessarily be remotely accessible.

</p><p class="rfcparagraph">	<a name="section-5"><h2>5.   Security Considerations</h2></a>

   To support remote service discovery, a domain exposes its service
   information to the Internet.  Standard SLP authentication SHOULD be
   used to protect valuable service information.  First, there is a risk
   that any SA could advertise any service on a DA accessible from the
   Internet.  Such a DA SHOULD reject all registrations and
   deregistrations that cannot be authenticated.  Secondly, to avoid
   disclosing unintended service information to remote users, a DA
   accessible from the Internet SHOULD at least authenticate service
   queries that are not in the "default" scope.  In addition, the
   security considerations for DNS SRV [RFC2782] apply to this document.
   Also, the DNS security extensions [RFC 2535] SHOULD be used to
   provide origin authentication and integrity protection for DNS data.
	<a name="section-6"><h2>6.   Applicability Statements</h2></a>

   This specification describes remote service discovery in SLP via DNS
   SRV.  It facilitates discovering services at a remote DNS domain if
   the domain name is known via a priori knowledge.  However, it does
   not intend to solve the problem of Internet-wide service discovery.

</p><p class="rfcparagraph">   Users should be aware of two constraints in using DNS SRV to discover
   SLP DAs: (1) they SHOULD only use DNS SRV to discover DAs in the<br>
   "default" scope, and (2) an administrator may choose to register only<br>
   a subset of all DAs in the "default" scope via DNS SRV.  Thus, to
   discover local DAs, implementations MUST use the standard SLP
   mechanisms per RFC 2608.  In addition, implementations supporting
   this specification MAY use DNS SRV to discover local DAs in the
   "default" scope.

</p><p class="rfcparagraph">   As SLP scopes are not intended to be used outside the local
   administrative domain, all remote service discovery in SLP SHOULD be
   carried only in the "default" scope.

</p><p class="rfcparagraph">   Note that the services discovered via DNS SRV and remote SLP DAs may
   not necessarily be remotely accessible.

</p><p class="rfcparagraph">	<a name="section-7"><h2>7.   IANA Considerations</h2></a>

   In the DNS SRV RRs for SLP DA services, the symbolic name for the
   Service field is "slpda", supported protocols are "tcp" and "udp".
   The following values have been registered with IANA:

</p><p class="rfcparagraph">       Service Field      Protocol Field     Reference
       -------------      --------------     ---------
           slpda                tcp          [RFC3832]
           slpda                udp          [RFC3832]

	<a name="section-8"><h2>8.   Acknowledgments</h2></a>

   The authors would like to thank Bernard Aboba, Kevin Arnold, Steven
   Bellovin, Ted Hardie, James Kempf, Thomas Narten, Erik Nordmark, and
   Jon Peterson for their valuable comments.

</p><p class="rfcparagraph">	<a name="section-9"><h2>9.   Normative References</h2></a>

   [RFC2608] Guttman, E., Perkins, C., Veizades, J. and M. Day, "Service
             Location Protocol, Version 2 ", RFC 2608, June 1999.

</p><p class="rfcparagraph">   [RFC2782] Gulbrandsen, A., Vixie, P. and L. Esibov, "A DNS RR for
             specifying the location of services (DNS SRV)", RFC 2782,
             February 2000.
   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", BCP 14, RFC 2119, March 1997.

</p><p class="rfcparagraph">   [RFC1034] Mockapetris, P., "Domain names - concepts and facilities",
             STD 13, RFC 1034, November 1987.

</p><p class="rfcparagraph">   [RFC1035] Mockapetris, P., "Domain names - implementation and
             specification", STD 13, RFC 1035, November 1987.

</p><p class="rfcparagraph">   [RFC2535] Eastlake 3rd, D., "Domain Name System Security Extensions",
             RFC 2535, March 1999.

</p><p class="rfcparagraph">	<a name="section-10"><h2>10.   Authors' Addresses</h2></a>

   Weibin Zhao
   Department of Computer Science
   Columbia University
   1214 Amsterdam Avenue, MC 0401
   New York, NY 10027-7003

   EMail: zwb@cs.columbia.edu


   Henning Schulzrinne
   Department of Computer Science
   Columbia University
   1214 Amsterdam Avenue, MC 0401
   New York, NY 10027-7003

   EMail: hgs@cs.columbia.edu


   Erik Guttman
   Sun Microsystems
   Eichhoelzelstr. 7
   74915 Waibstadt
   Germany

   EMail: Erik.Guttman@sun.com
   Dr. Chatschik Bisdikian
   IBM T. J. Watson Research Center
   30 Saw Mill River Road, M/S 3S-B34
   Hawthorne, NY 10532, USA

   Phone: +1 914 784 7439
   Fax:   +1 914 784 6225
   EMail: bisdik@us.ibm.com


   William F. Jerome
   IBM Corp.
   Thomas J. Watson Research Center
   19 Skyline Drive
   Hawthorne, NY 10532, USA

   EMail: wfj@us.ibm.com
	<a name="section-11"><h2>11.   Full Copyright Statement</h2></a>

   Copyright (C) The Internet Society (2004).  This document is subject<br>
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.

</p><p class="rfcparagraph">   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

</p><p class="rfcparagraph">Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

</p><p class="rfcparagraph">   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

</p><p class="rfcparagraph">   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at ietf-
   ipr@ietf.org.

</p><p class="rfcparagraph">Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.

</p>







Zhao, et al.                  Experimental                      [Page 8]


      </td>
      <td class=code>
        <div class='highlight'>
            <!--
            <b>Related Stack Overflow questions:</b>
            <ul>
                
            </ul>
            -->
        </div>
      </td>
    </tr>
  </table>
</div>
</body>